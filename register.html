<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="icon" href="assets/images/title.png" type="image/png" sizes="16x16">
<title>mobipromo</title>
<link rel="stylesheet" href="assets/css/login.css" />
<body>

<div class="register-container">
	<h1>欢迎注册Mobipromo</h1>
	
	<div class="connect">
		<p>www.mobipromo.io</p>
	</div>
		<div>
			<input type="text" name="username" class="username" placeholder="您的用户名" autocomplete="off"/>
		</div>
		<div>
			<input type="password" name="password" class="password" placeholder="输入密码" oncontextmenu="return false" onpaste="return false" />
		</div>
		<div>
			<input type="password" name="confirm_password" class="confirm_password" placeholder="再次输入密码" oncontextmenu="return false" onpaste="return false" />
		</div>
		<div>
			<input type="text" name="phone_number" class="phone_number" placeholder="输入手机号码" autocomplete="off" id="number"/>
		</div>
		<div>
			<input type="email" name="email" class="email" placeholder="输入邮箱地址" oncontextmenu="return false" onpaste="return false" />
		</div>
		<button id="submit" type="submit">注 册</button>
	<a href="index.html" style="display: block">
		<button type="button" class="register-tis">已经有账号？</button>
	</a>

</div>


<script src="assets/js/jquery.min.js"></script>
<!-- <script src="assets/js/common.js"></script> -->
<!--背景图片自动更换-->
<script src="assets/js/supersized.3.2.7.min.js"></script>
<script src="assets/js/supersized-init.js"></script>
<!--表单验证-->
<!-- <script src="assets/js/jquery.validate.min.js?var1.14.0"></script> -->
<script>

	$("#submit").click(function () {
		var username = $("input[name='username']").val(),
		password = $("input[name='password']").val(),
		confirm_password = $("input[name='confirm_password']").val(),
		phone_number = $("input[name='phone_number']").val(),
		email = $("input[name='email']").val(),
		phone_number_reg = /^(((13[0-9]{1})|(15[0-9]{1}))+\d{8})$/;
		email_reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
		if(!username) {
			console.log('username not empty')
		} else if(username.length < 6 || username.length > 20) {
			console.log('username length error')
		} else if(!password) {
			console.log('password not empty')
		} else if(password < 6 || password.length > 20) {
			console.log('password length error')
		} else if(!confirm_password) {
			console.log('password not empty')
		} else if(confirm_password != password) {
			console.log('confirm_password not repeat')
		} else if(!phone_number) {
			console.log('password not empty')
		} else if(!phone_number_reg.test(phone_number)) {
			console.log('phone_number error')
		} else if(!email_reg) {
			console.log('password not empty')
		} else if(!email_reg.test(email)) {
			console.log('email error')
		}
		// if(username && password && confirm_password && phone_number) {
		// 	console.log("请填写完整信息")
		// }
		// if(!password == confirm_password) {
		// 	console.log('两次输入密码不一致')
		// }
		// if(!phone_number_test.test(phone_number)) {
		// 	console.log('手机号码不正确')
		// }

		var dataregister = {
		    "account": phone_number,
		    "accountType": 'email',
		    "country": "sdfa",
		    "email": email,
		    "firstName": "1",
		    "idCardNumber": "12345678",
		    "lastName": "7",
		    "password": password,
		    "phone": phone_number
		   }
		  console.log(dataregister)
		  $.ajax({
		   headers: {
		          Accept: "application/json; charset=utf-8",
		    	  Authorization:"Basic cHJvbW9zZXJ2ZXI6ZTYxOTcyMDViYTZmOWM2"
		      },
		    type: 'POST',
		   url: '/promo/public/account',
		   data: JSON.stringify(dataregister),
		   contentType: "application/json; charset=utf-8",
			success: function (data) {
				console.log(data);
			},
			error: function (data) {
				console.log(data)
			}
		})
	});
</script>
</body>
</html>